--- examples/indep_diff_arrays.omp_line_batch.f90	2025-11-17 00:33:38
+++ examples/indep_diff_arrays.omp_ast_batch.f90	2025-11-17 00:33:38
@@ -1,10 +1,15 @@
-program indep_diff_arrays
-implicit none
-integer :: i
-integer, dimension(10) :: A, B
-!$omp parallel do private(i) schedule(static)
-do i = 1, 10
-  A(i) = B(i-1)
-end do
-!$omp end parallel do
-end program indep_diff_arrays
+PROGRAM indep_diff_arrays
+  IMPLICIT NONE
+  INTEGER :: i
+  INTEGER, DIMENSION(10) :: A, B
+  INTEGER, ALLOCATABLE :: apf_tmp_i(:)
+  ALLOCATE(apf_tmp_i(SIZE(A % i)))
+  apf_tmp_i = A % i
+  !$omp parallel do private(i) schedule(static)
+  DO i = 1, 10
+    A(i) = B(i - 1)
+  END DO
+  A % i = apf_tmp_i
+  DEALLOCATE(apf_tmp_i)
+  !$omp end parallel do
+END PROGRAM indep_diff_arrays
\ No newline at end of file
